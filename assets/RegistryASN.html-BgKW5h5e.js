import{_ as n,c as a,e as i,o as t}from"./app-DeVGIpVd.js";const s={};function o(r,e){return t(),a("div",null,[...e[0]||(e[0]=[i(`<div class="hint-container warning"><p class="hint-container-title">Warning</p><p>This article introduces the registration process for real internet ASNs. For DN42 experimental network ASN application processes, please refer to <a href="https://lantian.pub/article/modify-website/dn42-experimental-network-2020.lantian/" target="_blank" rel="noopener noreferrer">DN42 ASN Application</a>.</p></div><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>If you are a beginner, I recommend going to DN42 to apply for an experimental network ASN for learning. This article is to help you apply for an ASN in the real internet and broadcast IP addresses.</p></div><h2 id="_1-basic-concepts" tabindex="-1"><a class="header-anchor" href="#_1-basic-concepts"><span>1. Basic Concepts</span></a></h2><blockquote><p>RIR: Regional Internet Registry</p></blockquote><p>ASN numbers and IP address resource allocation follows strict international management mechanisms. Global internet resources are managed by five Regional Internet Registries (RIRs):</p><ul><li><a href="https://afrinic.net/" target="_blank" rel="noopener noreferrer">AFRINIC</a>: Responsible for Africa</li><li><a href="https://www.arin.net/" target="_blank" rel="noopener noreferrer">ARIN</a>: Responsible for North America</li><li><a href="https://www.lacnic.net/" target="_blank" rel="noopener noreferrer">LACNIC</a>: Responsible for Latin America and Caribbean</li><li><a href="https://www.ripe.net/" target="_blank" rel="noopener noreferrer">RIPE NCC</a>: Responsible for Europe, Middle East and Central Asia</li><li><a href="http://apnic.net/" target="_blank" rel="noopener noreferrer">APNIC</a>: Responsible for Asia Pacific</li></ul><blockquote><p>LIR: Local Internet Registry</p></blockquote><p>Note that RIRs do not provide services directly to end users, but allocate resources through Local Internet Registries (LIRs). LIRs, as RIR member organizations, need to pay corresponding annual membership fees to maintain their membership status, which is usually not economical for individual users.</p><p>When choosing an RIR, RIPE NCC is widely recommended based on three considerations:</p><ol><li>Cost effectiveness: RIPE NCC&#39;s registration fees are relatively reasonable. In comparison, APNIC&#39;s basic fees are about 30% higher with additional administrative costs.</li><li>System convenience: RIPE NCC provides comprehensive online management systems where users can independently complete progress queries, configuration modifications, etc. APNIC&#39;s processes still rely on email communication, making it relatively inefficient.</li><li>Policy stability: RIPE NCC&#39;s policy adjustments are moderate and predictable, which has obvious advantages compared to other regional organizations.</li></ol><p>In summary, based on available data analysis, RIPE NCC is an ideal choice for individual ASN applications, followed by APNIC or ARIN.</p><h2 id="_2-preparing-materials" tabindex="-1"><a class="header-anchor" href="#_2-preparing-materials"><span>2. Preparing Materials</span></a></h2><p>When applying for an ASN, you need to provide the following necessary documents to the LIR (using RIPE NCC registration as an example):</p><h3 id="identity-documents" tabindex="-1"><a class="header-anchor" href="#identity-documents"><span>Identity Documents</span></a></h3><ul><li>Corporate applicants: Valid business license or company registration certificate</li><li>Individual applicants: Government-issued valid identity documents</li></ul><p>Note: If the applicant is a minor, written consent from legal guardians is usually required along with fulfilling guardianship responsibilities. All submitted documents should be authentic and valid, and must be originals or notarized copies.</p><h3 id="contact-information" tabindex="-1"><a class="header-anchor" href="#contact-information"><span>Contact Information</span></a></h3><ul><li>Physical mailing address (for WHOIS database registration)</li><li>Technical operations contact email (NOC Email)</li><li>Abuse report contact email (Abuse Email)</li></ul><h3 id="technical-requirements-proof" tabindex="-1"><a class="header-anchor" href="#technical-requirements-proof"><span>Technical Requirements Proof</span></a></h3><ul><li>Valid bills or contracts from BGP service providers within the European region from the last two months</li><li>At least two confirmed BGP upstream providers</li></ul><h3 id="ripe-db-account-and-object-creation" tabindex="-1"><a class="header-anchor" href="#ripe-db-account-and-object-creation"><span>RIPE DB Account and Object Creation</span></a></h3><h4 id="_1-register-ripe-ncc-access-account" tabindex="-1"><a class="header-anchor" href="#_1-register-ripe-ncc-access-account"><span>1. Register RIPE NCC Access Account</span></a></h4><p>Open the <a href="https://access.ripe.net/registration" target="_blank" rel="noopener noreferrer">RIPE DataBase</a> registration page and complete registration. No need to elaborate.</p><h4 id="_2-create-initial-role-and-maintainer-mntner-objects" tabindex="-1"><a class="header-anchor" href="#_2-create-initial-role-and-maintainer-mntner-objects"><span>2. Create Initial role and maintainer (mntner) Objects</span></a></h4><p>Open <a href="https://apps.db.ripe.net/db-web-ui/webupdates/create/RIPE/role/self" target="_blank" rel="noopener noreferrer">RIPE DB Create Role And MNT</a></p><p>A role object is an abstraction of a role performed by one or more people, for example, representing the department you use to handle network incidents.</p><p>A maintainer object is an abstraction of a maintainer, recording maintainer authentication information. Other objects authorize who maintains them through the mnt-by attribute.</p><p>When creating role and maintainer objects through the above link, you need to fill in:</p><ul><li><code>mntner</code>: maintainer object identifier, can include uppercase/lowercase letters, numbers and _-, e.g.: YOURNOC-MNT</li><li><code>role</code>: role object name, can include uppercase/lowercase letters, numbers and <code>][)(._&quot;*@,&amp;:!&#39;+/-</code> e.g.: YOURCOMPANY NOC</li><li><code>address</code>: office address for this role</li><li><code>e-mail</code>: email contact address for this role</li></ul><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Create role and maintainer pair.png" alt="Example filled information using Akaere NetWork" tabindex="0" loading="lazy"><figcaption>Example filled information using Akaere NetWork</figcaption></figure><p>After filling in, click the SUBMIT button to simultaneously create a role and mntner object.</p><p>The red box part in the image is the primary key of the role object. You need to submit this as your AS&#39;s admin-c / tech-c / abuse-c to your LIR.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Create role and maintainer pair done.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="_3-set-abuse-notification-email" tabindex="-1"><a class="header-anchor" href="#_3-set-abuse-notification-email"><span>3. Set Abuse Notification Email</span></a></h4><div class="hint-container caution"><p class="hint-container-title">Caution</p><p>RIPE NCC will check the validity of this email, make sure it&#39;s real and usable</p></div><p>In the search box at the top of <a href="https://apps.db.ripe.net/db-web-ui/query" target="_blank" rel="noopener noreferrer">RIPE DB Query</a>, enter the primary key of the role object from the previous section and click the search button. Then click the Update object button in the upper right corner of the search results to jump to the modification page.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Edit Abuse.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Click the + button to the right of the e-mail field to add an abuse-mailbox attribute to this role object.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Edit Abuse 2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Edit Abuse 3.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Fill in the abuse notification email in the appearing abuse-mailbox field and click SUBMIT to save.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Edit Abuse 4.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="_4-create-organisation-object" tabindex="-1"><a class="header-anchor" href="#_4-create-organisation-object"><span>4. Create organisation Object</span></a></h4><p>An organisation object is an abstraction of a company, non-profit group, or individual. All other resources are related to this object. It&#39;s the starting point for managing data in the RIPE database.</p><p>When creating an organisation object through <a href="https://apps.db.ripe.net/db-web-ui/webupdates/create/RIPE/organisation" target="_blank" rel="noopener noreferrer">RIPE DB Create Organisation</a>, you need to fill in:</p><ul><li><code> mnt-by</code>: who manages this, automatically filled with the previously created mntner identifier</li><li><code> organisation</code>: organisation object identifier, default AUTO-1 will be automatically generated by the system</li><li><code>org-name</code>: organisation name, must be the legal full name of the organization or individual name</li><li><code> address</code>: organisation contact address, must be the legal address of the organization or individual residence</li><li><code>e-mail</code>: organisation email contact address</li><li><code>abuse-c</code>: organisation abuse notification contact, must point to a role object with abuse-mailbox attribute</li><li><code>mnt-ref</code>: who can reference this organisation, the pointed mntner can add objects pointing to this organisation, i.e., who allocates resources for this organization, ask your LIR for the specific value</li></ul><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Creat organisation.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>After filling in, click SUBMIT. The page will show the organisation object identifier with &quot;ORG-EXAMPLE-RIPE&quot; (red box part in the image). You need to submit this as your AS&#39;s org to your LIR.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Creat organisation Done.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="_4-1-how-to-modify-if-something-went-wrong" tabindex="-1"><a class="header-anchor" href="#_4-1-how-to-modify-if-something-went-wrong"><span>4.1 How to Modify if Something Went Wrong?</span></a></h4><p>When you discover errors in the above content, go to <a href="https://apps.db.ripe.net/db-web-ui/query" target="_blank" rel="noopener noreferrer">RIPE DB Query</a>, search for the primary key of the object you need to correct, and click the Update object button in the upper right corner to jump to the modification page.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/RIPEUPDATE1.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>After entering the modification page, correct the content you need to modify and click SUBMIT to submit.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/RIPEUPDATE2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>After completion, the RIPE database will show that you&#39;ve modified the content. This ends the modification process.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/RIPEUPDATE3.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="_5-submit-materials" tabindex="-1"><a class="header-anchor" href="#_5-submit-materials"><span>5. Submit Materials</span></a></h4><p>You need to provide the following materials to the LIR:</p><ul><li>Company registration certificate / Passport (front and back of Chinese resident ID card)</li><li>Proof of network activity within RIPE NCC service area (e.g., European VPS bills)</li><li>AS active region (country)</li><li>as-name (AS name, e.g., CHINATELECOM-CORE-WAN-CN2)</li><li>org (Section 4, organisation object identifier)</li><li>admin-c (Section 2, role object primary key)</li><li>tech-c (Section 2, role object primary key)</li><li>abuse-c (Section 2, role object primary key)</li><li>mnt-by (Section 2, mntner object identifier)</li></ul><h2 id="_3-peeringdb-creation-maintenance" tabindex="-1"><a class="header-anchor" href="#_3-peeringdb-creation-maintenance"><span>3. PeeringDB Creation/Maintenance</span></a></h2><h3 id="_1-what-is-peeringdb" tabindex="-1"><a class="header-anchor" href="#_1-what-is-peeringdb"><span>1. What is PeeringDB?</span></a></h3><p>PeeringDB is like the &quot;social business card holder&quot; of the internet world! Imagine if every network operator was a guest at a party, PeeringDB would be the roster helping everyone get to know each other. Here, you can:</p><ul><li>Tell others &quot;who I am&quot; (your network information)</li><li>Say &quot;where I live&quot; (your network facility locations)</li><li>Leave &quot;contact information&quot; (technical contact information)</li><li>Show &quot;willingness to make friends&quot; (peering policies)</li></ul><p>Simply put, PeeringDB is a global database platform helping network operators, data centers, and Internet Exchange Points (IXPs) discover each other and establish connections. It&#39;s like the LinkedIn of the networking world, making it easier for everyone to find suitable network partners!</p><p><strong>Summary:</strong> PeeringDB is an important platform for network operators to share network information and establish peering relationships, an almost essential registration database for ASN holders.</p><h3 id="_2-create-peeringdb-account" tabindex="-1"><a class="header-anchor" href="#_2-create-peeringdb-account"><span>2. Create PeeringDB Account</span></a></h3><p>Go to <a href="https://www.peeringdb.com/register" target="_blank" rel="noopener noreferrer">PeeringDB Register</a> to register an account. No need to elaborate.</p><p><strong>Note:</strong> When registering for PeeringDB, it&#39;s best to use the email from the role object you created in RIPE DB.</p><h3 id="_3-link-your-asn-in-peeringdb" tabindex="-1"><a class="header-anchor" href="#_3-link-your-asn-in-peeringdb"><span>3. Link Your ASN in PeeringDB</span></a></h3><p>Go to the Associated Organizations section in <a href="https://www.peeringdb.com/profile" target="_blank" rel="noopener noreferrer">PeeringDB Profile</a>, enter your ASN and organization name to associate.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/preeingdb link.png" alt="Using my own ASN as example" tabindex="0" loading="lazy"><figcaption>Using my own ASN as example</figcaption></figure><p>After successful association, you can find your organization in the dropdown menu in the upper right corner.</p><figure><img src="http://s3.pysio.online/pysioimages/peeringdblinkdone.png" alt="Following the above image" tabindex="0" loading="lazy"><figcaption>Following the above image</figcaption></figure><h3 id="_4-correct-information" tabindex="-1"><a class="header-anchor" href="#_4-correct-information"><span>4. Correct Information</span></a></h3><p>In the above image, after clicking into your organization, click the Edit button in the upper right corner to enter the editing interface and supplement some information:</p><p>The largest input box in the upper left corner is for organization name, refer to org-name in the RIPE database</p><p>Alias (optional): Other names/abbreviations of the organization</p><p>Long name (optional): Full name of the organization</p><p>Address line 1 (optional): Organization address</p><p>Address line 2 (optional): Organization address</p><p>Company Website Override: Organization website address</p><p>Suite (optional): Organization room number</p><p>Location (optional): Specific location</p><p>Country and region code: Country and region code where the organization is located</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/peeringdborg.png" alt="Example of 13335" tabindex="0" loading="lazy"><figcaption>Example of 13335</figcaption></figure><h3 id="_5-add-network" tabindex="-1"><a class="header-anchor" href="#_5-add-network"><span>5. Add Network</span></a></h3><p>Name: Network name</p><p>Website: Network website address</p><p>IRR as-set/route-set object: Network&#39;s IRR as-set/route-set object (though this is stating the obvious)</p><p>Network Types (optional): Network type</p><p>Traffic level: Incoming/outgoing rates</p><p>Traffic ratio: Incoming/outgoing traffic ratio</p><p>Geographic scope: Network&#39;s geographic scope</p><p>Unicast IPv4 / Multicast / IPv6: Check according to actual situation</p><p>Policy URL: Peering policy URL</p><p>General policy: Peering policy status</p><p>Contract requirement: Whether peering requires contracts</p><p>Health Check: Network status check</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/peeringdb add networks.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Finally, click submit network to complete.</p><blockquote><p>Since PeeringDB&#39;s interface has too many explanations... I&#39;ll skip the IX part for now</p></blockquote><h2 id="_4-now-you-can-finally-start-broadcasting-your-ip" tabindex="-1"><a class="header-anchor" href="#_4-now-you-can-finally-start-broadcasting-your-ip"><span>4. Now You Can Finally Start Broadcasting Your IP!</span></a></h2><h3 id="_1-find-an-upstream" tabindex="-1"><a class="header-anchor" href="#_1-find-an-upstream"><span>1. Find an Upstream</span></a></h3><p>Major carriers often have access points in hosting facilities. You can purchase hosting services, then directly contact carriers to sign contracts for bandwidth and IP transit services. But given domestic characteristics, this whole process will only get you an astronomical bill <s>(unless you&#39;re not short on money, then pretend I didn&#39;t say anything)</s></p><p>But the good news is, many VPS providers offer BGP Session services, such as Vultr, BuyVM, etc. You can choose one as your upstream. These providers charge about $5-10 per month, which is reasonably cost-effective.</p><p>You can also find more providers here: <a href="https://bgp.services/" target="_blank" rel="noopener noreferrer">BGP Services</a></p><h3 id="_2-start-announcing-your-ip-address-to-the-world" tabindex="-1"><a class="header-anchor" href="#_2-start-announcing-your-ip-address-to-the-world"><span>2. Start Announcing Your IP Address to the World</span></a></h3><p>Before starting this step, you should verify your ASN and IP address segment according to the provider&#39;s requirements. Most providers require opening a ticket. This article uses Vultr as an example.</p><h4 id="_1-get-connection-information" tabindex="-1"><a class="header-anchor" href="#_1-get-connection-information"><span>1. Get Connection Information</span></a></h4><p>Open this address: <a href="https://my.vultr.com/bgp/" target="_blank" rel="noopener noreferrer">Vultr BGP</a> Fill in your ASN and IP address segment. Vultr will send a verification code email to your Whois email. After verification, wait for Vultr staff review (remember to reply to tickets).</p><p>After approval, open VPS details, click the <code>BGP</code> tab to get the following information:</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/20250216154622.png" alt="Vultr BGP" tabindex="0" loading="lazy"><figcaption>Vultr BGP</figcaption></figure><p>Now you have the information to establish BGP Session with Vultr.</p><h4 id="_2-configure-bird2" tabindex="-1"><a class="header-anchor" href="#_2-configure-bird2"><span>2. Configure Bird2</span></a></h4><p>I use <code>Debian 12</code> as an example, directly install Bird2 using APT: <code>apt install bird2</code></p><p>My ASN is <code>AS213605</code> and I want to announce <code>2a14:67c1:a020::/48</code></p><p>Using Vultr as example, they give peer ASN <code>64515</code>, peer IP <code>2001:19f0:ffff::1</code>, our VPS&#39;s IPv6 address is <code>2001:19f0:5001:225f:5400:05ff:fe69:6776</code>, MD5 password is 114514, so my configuration file is:</p><div class="language-conf" data-highlighter="prismjs" data-ext="conf"><pre><code class="language-conf"><span class="line">log syslog all;</span>
<span class="line"></span>
<span class="line">router id 114.514.111.222; # VPS public IPv4 address</span>
<span class="line">define ASN=213605; # Your ASN</span>
<span class="line">define OWNIPv6s=[2a14:67c1:a020::/48]; # Your IPv6 address segment</span>
<span class="line"></span>
<span class="line"># device protocol is required, otherwise BIRD won&#39;t automatically get network interface info from kernel</span>
<span class="line">protocol device {}</span>
<span class="line"></span>
<span class="line"># kernel protocol exports routing table to kernel</span>
<span class="line">protocol kernel {</span>
<span class="line">    ipv6 {</span>
<span class="line">        export all; # Import all IPv6 routes to system routing table</span>
<span class="line">    };</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"># static defines static routes</span>
<span class="line">protocol static static_v6 {</span>
<span class="line">    ipv6;</span>
<span class="line">    route 2a14:67c1:a020::/48 via 2001:19f0:5001:225f:5400:05ff:fe69:6776;  # Announce 2a14:7c0:4d00::/40 segment, modify the IP after via to your VPS&#39;s IPv6</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">filter export_filter_v6 {</span>
<span class="line">    if net ~ OWNIPv6s then accept; # If prefix is included in OWNIPv6s then allow</span>
<span class="line">    reject; # Otherwise reject all</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">filter import_filter_v6 {</span>
<span class="line">    if net ~ [::/0] then reject; # If default route then reject</span>
<span class="line">    accept; # Accept all other routes</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">protocol bgp vultr {</span>
<span class="line">    local as ASN; # Specify local ASN</span>
<span class="line">    source address 2001:19f0:5001:225f:5400:05ff:fe49:6493; # Specify local address</span>
<span class="line">    multihop 2; # Set multihop, Vultr provides value 2</span>
<span class="line">    neighbor 2001:19f0:ffff::1 as 64515; # Specify peer address and ASN</span>
<span class="line">    ipv6 { # Specify protocol to run on this BGP neighbor</span>
<span class="line">        import filter import_filter_v6; # Specify import filter</span>
<span class="line">        export filter export_filter_v6; # Specify export filter</span>
<span class="line">        export limit 10; # Limit export prefix count, adjust as needed, prevent session explosion from misconfigured filters</span>
<span class="line">    };</span>
<span class="line">    password &quot;114514&quot;; # If no password, delete this line</span>
<span class="line">    graceful restart; # Graceful restart, prevent service interruption from route withdrawal when restarting bird</span>
<span class="line">}</span>
<span class="line"></span></code></pre></div><p>You can modify based on my configuration file (recommend reading <a href="https://soha.moe/post/bird-bgp-kickstart.html" target="_blank" rel="noopener noreferrer">soha&#39;s tutorial</a> first then writing by hand), write to <code>/etc/bird/bird.conf</code>, then apply configuration <code>birdc c</code></p><p>You can run <code>birdc show protocols all</code> to view current status of all protocols:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">vultr    BGP        ---        up     <span class="token number">2025</span>-02-10    Established   </span>
<span class="line">  BGP state:          Established</span>
<span class="line">    Neighbor address: <span class="token number">2001</span>:19f0:ffff::1</span>
<span class="line">    Neighbor AS:      <span class="token number">64515</span></span>
<span class="line">    Local AS:         <span class="token number">213605</span></span>
<span class="line">    Neighbor ID:      <span class="token number">45.76</span>.40.105</span>
<span class="line">    Local capabilities</span>
<span class="line">      Multiprotocol</span>
<span class="line">        AF announced: ipv6</span>
<span class="line">      Route refresh</span>
<span class="line">      Graceful restart</span>
<span class="line">        Restart time: <span class="token number">120</span></span>
<span class="line">        AF supported: ipv6</span>
<span class="line">        AF preserved:</span>
<span class="line">      <span class="token number">4</span>-octet AS numbers</span>
<span class="line">      Enhanced refresh</span>
<span class="line">      Long-lived graceful restart</span>
<span class="line">    Neighbor capabilities</span>
<span class="line">      Multiprotocol</span>
<span class="line">        AF announced: ipv6</span>
<span class="line">      Route refresh</span>
<span class="line">      Extended message</span>
<span class="line">      Graceful restart</span>
<span class="line">      <span class="token number">4</span>-octet AS numbers</span>
<span class="line">      ADD-<span class="token environment constant">PATH</span></span>
<span class="line">        RX: ipv6</span>
<span class="line">        TX:</span>
<span class="line">      Enhanced refresh</span>
<span class="line">      Long-lived graceful restart</span>
<span class="line">        LL stale time: <span class="token number">0</span></span>
<span class="line">        AF supported:</span>
<span class="line">        AF preserved: ipv6</span>
<span class="line">      Hostname: ams510.vultr.com</span>
<span class="line">    Session:          external multihop AS4</span>
<span class="line">    Source address:   <span class="token number">2001</span>:19f0:5001:225f:5400:5ff:fe49:6493</span>
<span class="line">    Hold timer:       <span class="token number">142.836</span>/180</span>
<span class="line">    Keepalive timer:  <span class="token number">38.528</span>/60</span>
<span class="line">  Channel ipv6</span>
<span class="line">    State:          UP</span>
<span class="line">    Table:          master6</span>
<span class="line">    Preference:     <span class="token number">100</span></span>
<span class="line">    Input filter:   ACCEPT</span>
<span class="line">    Output filter:  ACCEPT</span>
<span class="line">    Routes:         <span class="token number">203065</span> imported, <span class="token number">2</span> exported, <span class="token number">203065</span> preferred</span>
<span class="line">    Route change stats:     received   rejected   filtered    ignored   accepted</span>
<span class="line">      Import updates:        <span class="token number">8010300</span>          <span class="token number">0</span>          <span class="token number">0</span>     <span class="token number">204161</span>    <span class="token number">7806139</span></span>
<span class="line">      Import withdraws:      <span class="token number">4736940</span>          <span class="token number">0</span>        ---        <span class="token number">194</span>    <span class="token number">4736746</span></span>
<span class="line">      Export updates:        <span class="token number">7806141</span>    <span class="token number">7806139</span>          <span class="token number">0</span>        ---          <span class="token number">2</span></span>
<span class="line">      Export withdraws:      <span class="token number">4736746</span>        ---        ---        ---          <span class="token number">0</span></span>
<span class="line">    BGP Next hop:   <span class="token number">2001</span>:19f0:5001:225f:5400:5ff:fe49:6493</span>
<span class="line">    IGP IPv6 table: master6</span>
<span class="line"></span></code></pre></div><p>Announced IP segments need time for global propagation and convergence. You can do something else, or just sleep (if you&#39;re configuring at midnight).</p><p>After waiting 30 minutes to an hour, you can open <a href="https://bgp.tools/" target="_blank" rel="noopener noreferrer">BGP Tools</a> and enter your IP segment to check global propagation status.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/bgptools.png" alt="Propagation Complete!" tabindex="0" loading="lazy"><figcaption>Propagation Complete!</figcaption></figure><h4 id="_3-configure-network-interface" tabindex="-1"><a class="header-anchor" href="#_3-configure-network-interface"><span>3. Configure Network Interface</span></a></h4><p>Now we&#39;ve successfully announced <code>2a14:67c1:a020::/48</code>.</p><p>Global traffic accessing <code>2a14:67c1:a020::/48</code> is now routed to our VPS, but our VPS is currently configured to do nothing and return unreachable. We just need some small configuration on the VPS to provide global services:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># Create a dummy network interface</span></span>
<span class="line"><span class="token function">ip</span> <span class="token function">link</span> <span class="token function">add</span> dev dummy0 <span class="token builtin class-name">type</span> dummy</span>
<span class="line"><span class="token function">ip</span> <span class="token function">link</span> <span class="token builtin class-name">set</span> dummy0 up</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Choose a favorite IP address and configure it</span></span>
<span class="line"><span class="token function">ip</span> addr <span class="token function">add</span> dev dummy0 2a14:67c1:a020::1</span>
<span class="line"></span></code></pre></div><p>After completion, we can ping <code>2a14:67c1:a020::1</code> from our computer.</p><h2 id="_5-some-by-products" tabindex="-1"><a class="header-anchor" href="#_5-some-by-products"><span>5. Some By-products</span></a></h2><h3 id="_1-ip6-arpa" tabindex="-1"><a class="header-anchor" href="#_1-ip6-arpa"><span>1. ip6.arpa</span></a></h3><h4 id="_1-what-is-ip6-arpa" tabindex="-1"><a class="header-anchor" href="#_1-what-is-ip6-arpa"><span>1. What is ip6.arpa</span></a></h4><p>ip6.arpa is the reverse DNS zone for IPv6. You can add PTR records to make your IP addresses reverse resolvable.</p><h4 id="_2-how-to-create-ip6-arpa-in-ripe-database-and-host-on-cloudflare" tabindex="-1"><a class="header-anchor" href="#_2-how-to-create-ip6-arpa-in-ripe-database-and-host-on-cloudflare"><span>2. How to Create ip6.arpa in RIPE Database and Host on CloudFlare</span></a></h4><p>Open <a href="https://apps.db.ripe.net/db-web-ui/webupdates/wizard/RIPE/domain" target="_blank" rel="noopener noreferrer">RIPE Create Domain interface</a></p><p>Enter the IP segment you need to create rDNS for, e.g., <code>2a14:67c1:b103::/48</code></p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/ripenons.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>You can see that RIPE now requires you to fill in 2 NS Servers. Let&#39;s write two fake ones first.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/ipv6fack.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Now you can see RIPE has given the <code>Reverse zones</code> value as <code>4.0.1.b.1.c.7.6.4.1.a.2.ip6.arpa.</code></p><p>Now take this value to CloudFlare to add the domain, then change the fake NS Servers we filled earlier to CloudFlare&#39;s NS Servers.</p><p>Also, fill admin-c / tech-c / zone-c with the primary key of the role object you created in the RIPE database (yes, the one you submitted to the LIR earlier).</p><p>Finally, as shown below, you can click submit.</p><figure><img src="https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/domaindone.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>After submission, wait a moment and the domain in CloudFlare will be activated.</p><h2 id="_6-conclusion" tabindex="-1"><a class="header-anchor" href="#_6-conclusion"><span>6. Conclusion</span></a></h2><p>Now your IP segment is publicly reachable. Next you can find more upstreams to play with Anycast? Or drag this IP segment to North Korea/Antarctica to achieve global coverage (tutorials might be coming).</p><h2 id="_7-references" tabindex="-1"><a class="header-anchor" href="#_7-references"><span>7. References</span></a></h2><p><a href="https://lir.zhnet.co.uk/asn-setup-zhcn" target="_blank" rel="noopener noreferrer">ASN Application Quick Guide - RIPE NCC</a></p><p><a href="https://blog.liuzhen932.top/posts/asn-1-registration/" target="_blank" rel="noopener noreferrer">Young People&#39;s First ISP: Registering an ASN</a></p><p><a href="https://blog.lyc8503.net/post/asn-1-asn-registration/" target="_blank" rel="noopener noreferrer">Running ISP at Home Part.1 - Registering an ASN</a></p>`,151)])])}const l=n(s,[["render",o]]),c=JSON.parse(`{"path":"/en/posts/daily/RegistryASN.html","title":"ASN Registration and IP Broadcasting from Zero","lang":"en-US","frontmatter":{"title":"ASN Registration and IP Broadcasting from Zero","date":"2025-04-14T00:00:00.000Z","icon":"fa-light fa-earth-asia","category":"daily","tag":["BGP","Daily"],"description":"Warning This article introduces the registration process for real internet ASNs. For DN42 experimental network ASN application processes, please refer to DN42 ASN Application. W...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ASN Registration and IP Broadcasting from Zero\\",\\"image\\":[\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Create%20role%20and%20maintainer%20pair.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Create%20role%20and%20maintainer%20pair%20done.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Edit%20Abuse.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Edit%20Abuse%202.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Edit%20Abuse%203.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Edit%20Abuse%204.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Creat%20organisation.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Creat%20organisation%20Done.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/RIPEUPDATE1.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/RIPEUPDATE2.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/RIPEUPDATE3.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/preeingdb%20link.png\\",\\"http://s3.pysio.online/pysioimages/peeringdblinkdone.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/peeringdborg.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/peeringdb%20add%20networks.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/20250216154622.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/bgptools.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/ripenons.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/ipv6fack.png\\",\\"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/domaindone.png\\"],\\"datePublished\\":\\"2025-04-14T00:00:00.000Z\\",\\"dateModified\\":\\"2025-06-01T00:04:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Pysio\\",\\"url\\":\\"https://github.com/pysio2007/\\"}]}"],["meta",{"property":"og:url","content":"https://www.pysio.online/en/posts/daily/RegistryASN.html"}],["meta",{"property":"og:site_name","content":"Pysio's Home"}],["meta",{"property":"og:title","content":"ASN Registration and IP Broadcasting from Zero"}],["meta",{"property":"og:description","content":"Warning This article introduces the registration process for real internet ASNs. For DN42 experimental network ASN application processes, please refer to DN42 ASN Application. W..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://s3.pysio.online/cdn-cgi/image/f=avif,onerror=redirect,slow-connection-quality=50/https://s3.pysio.online/pysioimages/Create%20role%20and%20maintainer%20pair.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-01T00:04:33.000Z"}],["meta",{"property":"article:tag","content":"Daily"}],["meta",{"property":"article:tag","content":"BGP"}],["meta",{"property":"article:published_time","content":"2025-04-14T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-01T00:04:33.000Z"}],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://www.pysio.online/posts/daily/RegistryASN.html"}],["meta",{"property":"article:published_time","content":"2025-04-14T00:00:00.000Z"}],["meta",{"name":"article:published_time","content":"2025-04-14T00:00:00.000Z"}],["meta",{"property":"article:tag","content":"BGP"}],["meta",{"property":"article:tag","content":"Daily"}],["meta",{"property":"article:section","content":"daily"}],["meta",{"property":"og:title","content":"ASN Registration and IP Broadcasting from Zero"}],["meta",{"property":"og:url","content":"https://www.pysio.online/en/posts/daily/RegistryASN.html"}],["meta",{"property":"og:description","content":"Warning This article introduces the registration process for real internet ASNs. For DN42 experimental network ASN application processes, please refer to DN42 ASN Application. W..."}],["meta",{"name":"description","content":"Warning This article introduces the registration process for real internet ASNs. For DN42 experimental network ASN application processes, please refer to DN42 ASN Application. W..."}],["meta",{"name":"twitter:title","content":"ASN Registration and IP Broadcasting from Zero"}],["meta",{"name":"twitter:description","content":"Warning This article introduces the registration process for real internet ASNs. For DN42 experimental network ASN application processes, please refer to DN42 ASN Application. W..."}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"BlogPosting\\",\\"headline\\":\\"ASN Registration and IP Broadcasting from Zero\\",\\"author\\":{\\"@type\\":\\"Person\\",\\"name\\":\\"Pysio\\",\\"url\\":\\"https://github.com/pysio2007\\"},\\"publisher\\":{\\"@type\\":\\"Organization\\",\\"name\\":\\"Pysio's Home\\",\\"url\\":\\"https://www.pysio.online\\"},\\"url\\":\\"https://www.pysio.online/en/posts/daily/RegistryASN.html\\",\\"datePublished\\":\\"2025-04-14T00:00:00.000Z\\",\\"dateModified\\":\\"2025-04-14T00:00:00.000Z\\",\\"description\\":\\"Warning This article introduces the registration process for real internet ASNs. For DN42 experimental network ASN application processes, please refer to DN42 ASN Application. W...\\",\\"mainEntityOfPage\\":{\\"@type\\":\\"WebPage\\",\\"@id\\":\\"https://www.pysio.online/en/posts/daily/RegistryASN.html\\"}}"],["link",{"rel":"canonical","href":"https://www.pysio.online/en/posts/daily/RegistryASN.html"}],["link",{"rel":"alternate","type":"application/rss+xml","title":"Pysio's Home RSS Feed","href":"https://www.pysio.online/rss.xml"}],["meta",{"property":"og:title","content":"ASN Registration and IP Broadcasting from Zero"}],["meta",{"property":"og:description","content":"Warning This article introduces the registration process for real internet ASNs. For DN42 experimental network ASN application processes, please refer to DN42 ASN Application. W..."}],["meta",{"property":"og:image","content":"https://www.pysio.online/og-images/asnregistrationandipbroadcastingfromzero.png"}],["meta",{"property":"og:url","content":"https://www.pysio.online/en/posts/daily/RegistryASN.html"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:site_name","content":"Pysio's Home"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:title","content":"ASN Registration and IP Broadcasting from Zero"}],["meta",{"name":"twitter:description","content":"Warning This article introduces the registration process for real internet ASNs. For DN42 experimental network ASN application processes, please refer to DN42 ASN Application. W..."}],["meta",{"name":"twitter:image","content":"https://www.pysio.online/og-images/asnregistrationandipbroadcastingfromzero.png"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://www.pysio.online/en/rss.xml","title":"Pysio's Home RSS Feed"}]]},"git":{"createdTime":1748736273000,"updatedTime":1748736273000,"contributors":[{"name":"pysio2007","username":"pysio2007","email":"71202163+pysio2007@users.noreply.github.com","commits":1,"url":"https://github.com/pysio2007"}]},"readingTime":{"minutes":9.98,"words":2994},"filePathRelative":"en/posts/daily/RegistryASN.md","excerpt":"<div class=\\"hint-container warning\\">\\n<p class=\\"hint-container-title\\">Warning</p>\\n<p>This article introduces the registration process for real internet ASNs. For DN42 experimental network ASN application processes, please refer to <a href=\\"https://lantian.pub/article/modify-website/dn42-experimental-network-2020.lantian/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">DN42 ASN Application</a>.</p>\\n</div>","autoDesc":true}`);export{l as comp,c as data};
